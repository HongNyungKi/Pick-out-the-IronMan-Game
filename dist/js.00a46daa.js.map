{"version":3,"sources":["js/index.js"],"names":["heroWidth","heroHeight","gameBtn","document","querySelector","gameTimer","gameScore","ironManCount","heroCount","gameDuration","popUp","popupMessage","popupRefresh","field","fieldRect","getBoundingClientRect","started","timer","undefined","score","addEventListener","startGame","stopGame","settingGame","showStopBtn","showTimeAndScore","startGameTimer","stopGameTimer","hideGameBtn","showPopupWidthText","onfieldClick","hidePopup","innerHTML","innerText","addItem","className","count","imgPath","x1","y1","x2","width","y2","height","i","item","createElement","setAttribute","style","position","x","randomNumber","y","left","top","appendChild","min","max","Math","random","icon","classList","add","remove","visibility","remainingTimeSec","updateTimerText","setInterval","clearInterval","finishGame","time","minutes","floor","seconds","text","event","target","matches","updateScore","win"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["\"use strict\";\r\n\r\n\r\nconst heroWidth = 80;\r\nconst heroHeight = 115;\r\nconst gameBtn = document.querySelector(\".header__btn\");\r\nconst gameTimer = document.querySelector(\".header__time\");\r\nconst gameScore = document.querySelector(\".header__score\");\r\nconst ironManCount = 5;\r\nconst heroCount = 3;\r\nconst gameDuration = 5;\r\nconst popUp = document.querySelector(\".pop-up\");\r\nconst popupMessage = document.querySelector(\".pop-up__message\");\r\nconst popupRefresh = document.querySelector(\".pop-up__refresh\");\r\nconst field = document.querySelector(\".game__field\");\r\nconst fieldRect = field.getBoundingClientRect();\r\n\r\n\r\nlet started = false; //게임이 시작되었는지, 안됬는지 알수있도록.\r\nlet timer = undefined; // 얼마만의 시간이 남았는지 기억하기위해.\r\nlet score = 0; // 최종적인 점수를 기억해야하기때문에.\r\n\r\ngameBtn.addEventListener(\"click\", () => {\r\n    // 게임이 시작되었다면, 중지해야하는 기능을 입력하고,\r\n    // 게임이 시작되지 않았다면, 게임시작을 위한 세팅을 한다.\r\n    if (!started) {\r\n        startGame();\r\n    } else if (started) {\r\n        stopGame();\r\n    }\r\n});\r\n\r\n//게임이 시작되었을 경우 실행되는 함수들\r\nfunction startGame() {\r\n    settingGame();\r\n    showStopBtn();\r\n    showTimeAndScore();\r\n    startGameTimer();\r\n    started = true;\r\n}\r\n\r\n//게임이 중지되었을 경우 실행되는 함수들\r\nfunction stopGame() {\r\n    stopGameTimer();\r\n    hideGameBtn();\r\n    showPopupWidthText(\"REPLAY?\");\r\n    started = false;\r\n}\r\n\r\n//아이템(hero)을 클릭시 발생하는 이벤트\r\nfield.addEventListener(\"click\", onfieldClick);\r\n\r\n//리플레이 버튼 클릭시\r\npopupRefresh.addEventListener(\"click\", () => {\r\n    startGame();\r\n    hidePopup();\r\n});\r\n\r\nfunction settingGame() {\r\n    score = 0;\r\n    field.innerHTML = \"\";\r\n    gameScore.innerText = ironManCount;\r\n    addItem(\"IronMan\", ironManCount, \"IronMan.a44b6e8e.png\");\r\n    addItem(\"hero\", heroCount, \"CaptainAmerica.fbcd2c59.png\");\r\n    addItem(\"hero\", heroCount, \"SpiderMan.04c09517.png\");\r\n    addItem(\"hero\", heroCount, \"Hulk.27b33131.png\");\r\n}\r\n\r\nfunction addItem(className, count, imgPath) {\r\n    const x1 = 0;\r\n    const y1 = 0;\r\n    const x2 = fieldRect.width - heroWidth;\r\n    const y2 = fieldRect.height - heroHeight;\r\n    for (let i = 0; i < count; i++) {\r\n        const item = document.createElement(\"img\");\r\n        item.setAttribute(\"class\", className);\r\n        item.setAttribute(\"src\", imgPath);\r\n        item.style.position = \"absolute\";\r\n        const x = randomNumber(x1, x2);\r\n        const y = randomNumber(y1, y2);\r\n        item.style.left = `${x}px`;\r\n        item.style.top = `${y}px`;\r\n        field.appendChild(item);\r\n    }\r\n}\r\n\r\nfunction randomNumber(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nfunction showStopBtn() {\r\n    const icon = document.querySelector(\".fas\");\r\n    icon.classList.add(\"fa-stop\");\r\n    icon.classList.remove(\"fa-play\");\r\n    gameBtn.style.visibility = \"visible\";\r\n}\r\n\r\nfunction showTimeAndScore() {\r\n    gameTimer.style.visibility = \"visible\";\r\n    gameScore.style.visibility = \"visible\";\r\n}\r\n\r\nfunction startGameTimer() {\r\n    let remainingTimeSec = gameDuration;\r\n    updateTimerText(remainingTimeSec);\r\n    timer = setInterval(() => {\r\n        if (remainingTimeSec <= 0) {\r\n            clearInterval(timer);\r\n            finishGame(score === ironManCount);\r\n            return;\r\n        }\r\n        updateTimerText(--remainingTimeSec);\r\n    }, 1000);\r\n}\r\n\r\nfunction updateTimerText(time) {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = time % 60;\r\n    gameTimer.innerText = `${minutes}:${seconds}`;\r\n}\r\n\r\nfunction stopGameTimer() {\r\n    clearInterval(timer);\r\n}\r\n\r\nfunction hideGameBtn() {\r\n    gameBtn.style.visibility = \"hidden\";\r\n}\r\n\r\nfunction showPopupWidthText(text) {\r\n    popUp.classList.remove(\"pop-up--hide\");\r\n    popupMessage.innerText = text;\r\n}\r\n\r\nfunction onfieldClick(event) {\r\n    if (!started) {\r\n        return;\r\n    }\r\n    const target = event.target;\r\n    if (target.matches(\".IronMan\")) {\r\n        target.remove();\r\n        score++;\r\n        updateScore();\r\n        if (score === ironManCount) {\r\n            finishGame(true);\r\n        }\r\n    } else if (target.matches(\".hero\")) {\r\n        stopGameTimer();\r\n        finishGame(false);\r\n    }\r\n}\r\n\r\nfunction updateScore() {\r\n    gameScore.innerText = ironManCount - score;\r\n}\r\n\r\nfunction finishGame(win) {\r\n    started = false;\r\n    hideGameBtn();\r\n    showPopupWidthText(win ? \"YOU WIN!\" : \"YOU LOSE!\");\r\n}\r\n\r\nfunction hidePopup() {\r\n    popUp.classList.add(\"pop-up--hide\");\r\n}"]}